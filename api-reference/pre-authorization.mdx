---
title: Pre-Authorization
description: Pre-authorize a payment to be captured later.
---

## Initiate Pre-Authorization

This endpoint initiates a pre-authorization for a payment.

<RequestExample>
```bash cURL
curl -X POST 'https://developers.flouci.com/api/generate_payment' \
  -H 'Content-Type: application/json' \
  -d '{
    "app_token": "<YOUR_APP_TOKEN>",
    "app_secret": "<YOUR_APP_SECRET>",
    "amount": 1000,
    "success_link": "https://your-website.com/success",
    "fail_link": "https://your-website.com/fail",
    "webhook": "https://your-website.com/webhook",
    "developer_tracking_id": "YOUR_TRACKING_ID",
    "pre_auth": true
  }'
```
</RequestExample>

### Body

<ParamField body="amount" type="integer" required>
  The amount to be paid in millimes.
</ParamField>
<ParamField body="success_link" type="string" required>
  The URL to redirect the user to after a successful payment.
</ParamField>
<ParamField body="fail_link" type="string" required>
  The URL to redirect the user to after a failed payment.
</ParamField>
<ParamField body="fail_link" type="string">
  The webhook URL you want to receive payment confirmation on.
</ParamField>
<ParamField body="developer_tracking_id" type="string">
  A unique ID for you to track the payment.
</ParamField>
<ParamField body="pre_auth" type="boolean" default="false">
  Whether to create a pre-authorization.
</ParamField>

<ResponseExample>
```json Success
{
  "result": {
    "payment_id": "a1b2c3d4-e5f6-7890-1234-567890abcdef",
    "link": "https://flouci.com/pay/a1b2c3d4-e5f6-7890-1234-567890abcdef"
  }
}
```
</ResponseExample>

---

## Confirm Payment

This endpoint confirms a pre-authorized payment.

<RequestExample>
```bash cURL
curl -X POST 'https://developers.flouci.com/api/v2/confirm_payment' \
  -H 'Content-Type: application/json' \
  -d '{
    "app_token": "YOUR_APP_TOKEN",
    "app_secret": "YOUR_APP_SECRET",
    "payment_id": "a1b2c3d4-e5f6-7890-1234-567890abcdef"
  }'
```
</RequestExample>

### Body

<ParamField body="app_token" type="string" required>
  Your application's public token.
</ParamField>
<ParamField body="app_secret" type="string" required>
  Your application's secret key.
</ParamField>
<ParamField body="payment_id" type="string" required>
  The ID of the payment to confirm.
</ParamField>

<ResponseExample>
```json Success
{
  "result": {
    "status": "SUCCESS"
  }
}
```
</ResponseExample>

---

## Cancel Payment

This endpoint cancels a pre-authorized payment.

<RequestExample>
```bash cURL
curl -X POST 'https://developers.flouci.com/api/v2/cancel_payment' \
  -H 'Content-Type: application/json' \
  -d '{
    "app_token": "YOUR_APP_TOKEN",
    "app_secret": "YOUR_APP_SECRET",
    "payment_id": "a1b2c3d4-e5f6-7890-1234-567890abcdef"
  }'
```
</RequestExample>

### Body

<ParamField body="app_token" type="string" required>
  Your application's public token.
</ParamField>
<ParamField body="app_secret" type="string" required>
  Your application's secret key.
</ParamField>
<ParamField body="payment_id" type="string" required>
  The ID of the payment to cancel.
</ParamField>

<ResponseExample>
```json Success
{
  "result": {
    "status": "SUCCESS"
  }
}
```
</ResponseExample>